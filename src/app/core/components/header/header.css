/*
 * Archivo: header.component.css
 * Descripción: Define los estilos visuales y de layout para el componente de cabecera (<app-header>).
 * Incluye el estilo del encabezado en sí, los elementos de navegación (menú),
 * el botón de hamburguesa para la responsividad, y las animaciones asociadas.
 */

/* --- 1. Estilos Base del Encabezado (<header>) --- */
header {
  background-color: var(--primary-red); /* Color de fondo principal del header */
  padding: 15px 0; /* Padding vertical (arriba/abajo), sin padding lateral */
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3); /* Sombra para dar profundidad al header */
  border-bottom: 2px solid var(--pure-white); /* Borde inferior blanco para separación */
  position: relative; /* Permite posicionar elementos hijos (ej. menú hamburguesa) de forma absoluta */
  display: flex; /* Habilita Flexbox para alinear el contenido */
  justify-content: center; /* Centra el contenido de la navegación horizontalmente */
  align-items: center; /* Centra el contenido de la navegación verticalmente */
  height: 70px; /* Altura fija para el header en pantallas de escritorio */
}

/* --- 2. Estilos del Contenedor de Navegación (<nav>) --- */
nav {
  width: 100%; /* Ocupa todo el ancho del header */
  max-width: 1200px; /* Limita el ancho máximo del contenido de la navegación */
  display: flex; /* Habilita Flexbox */
  justify-content: center; /* Centra los elementos del menú horizontalmente */
  align-items: center; /* Centra los elementos del menú verticalmente */
}

/* --- 3. Estilos de la Lista de Navegación (<ul>) en Desktop --- */
nav ul {
  list-style: none; /* Elimina los marcadores de lista por defecto */
  margin: 0; /* Elimina el margen por defecto */
  padding: 0; /* Elimina el padding por defecto */
  display: flex; /* Muestra los elementos del menú horizontalmente en desktop */
  justify-content: center; /* Centra los elementos de la lista */
  gap: 35px; /* Establece el espacio entre cada elemento <li> */
  width: auto; /* Permite que la lista se ajuste a su contenido */
}

/* --- 4. Estilos de los Enlaces de Navegación (<a> dentro de <li>) --- */
nav li a {
  text-decoration: none; /* Elimina el subrayado por defecto del enlace */
  color: var(--pure-white); /* Color del texto del enlace */
  font-size: 1.2em; /* Tamaño de fuente para los enlaces */
  font-weight: bold; /* Grosor de fuente en negrita */
  padding: 10px 20px; /* Padding interno del enlace para hacer la zona de clic más grande */
  transition: background-color 0.3s ease, transform 0.2s ease; /* Transiciones suaves para hover */
  border-radius: 8px; /* Bordes ligeramente redondeados */
  position: relative; /* Necesario para el efecto de subrayado ::before */
  overflow: hidden; /* Oculta cualquier contenido que se desborde, útil para el efecto */
  white-space: nowrap; /* Evita que el texto del enlace se rompa en varias líneas */
  display: block; /* Asegura que el enlace ocupe todo el espacio del <li> y que el padding funcione bien */
  text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.5); /* Sombra sutil al texto para mejorar la legibilidad */
}

/* Efecto de Subrayado Animado al Pasar el Ratón (Pseudo-elemento ::before) */
nav li a::before {
  content: ""; /* Esencial para que el pseudo-elemento se muestre */
  position: absolute; /* Posiciona el subrayado de forma absoluta dentro del enlace */
  bottom: 0; /* Alinea el subrayado en la parte inferior */
  left: 0; /* Alinea el subrayado a la izquierda */
  width: 100%; /* El subrayado ocupa todo el ancho del enlace */
  height: 3px; /* Grosor del subrayado */
  background-color: var(--pure-white); /* Color del subrayado */
  transform: scaleX(0); /* Inicialmente oculto (escala horizontal a 0) */
  transition: transform 0.3s ease; /* Transición suave para la animación de escala */
  transform-origin: bottom right; /* El subrayado se expande desde la derecha */
}

nav li a:hover::before {
  transform: scaleX(1); /* Muestra el subrayado al pasar el ratón (escala horizontal a 1) */
  transform-origin: bottom left; /* El subrayado se contrae hacia la izquierda al salir */
}

/* Efecto al pasar el ratón sobre los enlaces */
nav li a:hover {
  background-color: rgba(255, 255, 255, 0.2); /* Fondo semi-transparente al pasar el ratón */
  transform: translateY(-2px); /* Pequeño desplazamiento hacia arriba */
}

/* --- 5. Estilo para el Enlace de la Página Activa (routerLinkActive="active-link") --- */
nav li a.active-link {
  color: var(--pure-white); /* Mantiene el color blanco */
  background-color: var(--secondary-red); /* Fondo rojo secundario para destacar */
  border-bottom: 3px solid var(--pure-white); /* Borde inferior más pronunciado */
  padding-bottom: 7px; /* Ajuste para compensar el borde inferior y mantener la alineación */
  transform: translateY(-1px); /* Pequeño desplazamiento hacia arriba */
  box-shadow: 0 0 10px rgba(255, 255, 255, 0.5); /* Sombra brillante para el elemento activo */
}

/* Asegura que el subrayado esté visible para el enlace activo */
nav li a.active-link::before {
  transform: scaleX(1); /* El subrayado está siempre visible */
  background-color: var(--pure-white); /* Color del subrayado */
}

/* --- 6. Estilos del Botón de Menú de Hamburguesa --- */
.hamburger-menu {
  display: none; /* Oculto por defecto en pantallas grandes (desktop) */
  background: none; /* Sin fondo */
  border: none; /* Sin borde */
  cursor: pointer; /* Cambia el cursor para indicar que es clicable */
  padding: 10px; /* Padding alrededor del botón */
  position: absolute; /* Posicionado de forma absoluta dentro del <header> */
  left: 20px; /* Alineado a la izquierda del header */
  z-index: 1001; /* Asegura que esté por encima del menú desplegado y otros elementos */
  flex-direction: column; /* Las barras internas se organizan en columna */
  justify-content: space-around; /* Espacia uniformemente las barras */
  width: 30px; /* Ancho del botón de hamburguesa */
  height: 25px; /* Altura del botón de hamburguesa */
  transition: transform 0.2s ease-in-out; /* Transición para el efecto de clic */
}

.hamburger-menu:active {
  transform: scale(0.9); /* Efecto de "presión" al hacer clic */
}

/* Estilos para cada barra individual dentro del botón de hamburguesa */
.hamburger-menu .bar {
  display: block; /* Cada barra es un bloque */
  width: 100%; /* Cada barra ocupa todo el ancho del botón */
  height: 3px; /* Grosor de cada barra */
  background-color: var(--pure-white); /* Color de las barras */
  border-radius: 5px; /* Bordes redondeados para las barras */
  transition: all 0.3s ease-in-out; /* Transición para la animación a cruz */
}

/* --- 7. Media Queries: Adaptación Responsiva para Móviles (Ancho máximo 576px) --- */
@media (max-width: 576px) {
  header {
    justify-content: flex-start; /* Alinea el contenido del header al inicio (izquierda) */
    padding: 10px 15px; /* Reduce el padding del header */
    height: 60px; /* Altura del header más compacta en móvil */
  }

  .hamburger-menu {
    display: flex; /* Muestra el botón de hamburguesa en pantallas pequeñas */
    left: 15px; /* Ajusta la posición a la izquierda */
    top: 50%; /* Centra verticalmente el botón */
    transform: translateY(-50%); /* Ajuste fino para centrado vertical */
  }

  nav ul {
    /* Estilos del menú desplegable cuando se activa el botón de hamburguesa */
    width: 100% !important; /* Ocupa todo el ancho del viewport (importante para sobrescribir) */
    min-height: 0 !important; /* Asegura que la altura mínima sea 0 (importante para sobrescribir) */
    max-height: 0; /* Inicialmente oculto (altura máxima 0 para animación de despliegue) */
    overflow: hidden; /* Oculta el contenido que se desborda para la animación */
    flex-direction: column; /* Los elementos del menú se apilan verticalmente */
    background-color: var(--primary-red); /* Color de fondo del menú desplegado */
    position: absolute; /* Posiciona el menú absolutamente debajo del header */
    top: 100%; /* Empieza justo debajo del borde inferior del header */
    left: 0; /* Alinea el menú a la izquierda */
    padding: 0; /* Sin padding inicial para la animación de despliegue */
    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2); /* Sombra para el menú desplegado */
    align-items: center; /* Centra los elementos de la lista dentro del menú */
    border-top: 1px solid rgba(255, 255, 255, 0.3); /* Borde superior para separar del header */
    transition: max-height 0.3s ease-in-out, padding 0.3s ease-in-out; /* Transición para la animación de despliegue */
  }

  /* Estado 'abierto' del menú de navegación en móvil */
  nav ul.menu-open {
    max-height: 500px !important; /* Un valor lo suficientemente grande para mostrar todo el contenido */
    padding: 5px 15px !important; /* Padding interno cuando el menú está abierto */
  }

  nav li {
    width: 100%; /* Cada elemento de la lista ocupa todo el ancho del menú desplegable */
    text-align: center; /* Centra el texto de los elementos de la lista */
    margin-bottom: 0px !important; /* Asegura que no haya margen inferior entre los elementos de la lista */
    border-radius: 8px; /* Bordes redondeados para los elementos de la lista */
  }

  nav li a {
    font-size: 1em; /* Reduce el tamaño de fuente para los enlaces en móvil */
    padding: 8px 0px !important; /* Ajusta el padding vertical y elimina el horizontal para los enlaces */
    width: 100%; /* Asegura que el enlace ocupe todo el ancho del <li> */
    border: 1px solid rgba(255, 255, 255, 0.3); /* Borde sutil para cada enlace */
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2); /* Sombra sutil para cada enlace */
    border-radius: 8px; /* Bordes redondeados para los enlaces */
    margin-bottom: 2px; /* Pequeño margen entre enlaces para separación visual */
  }

  /* Elimina el margen inferior del último enlace en el menú móvil para una mejor presentación */
  nav li:last-child a {
    margin-bottom: 0px;
  }

  /* Animación del icono de hamburguesa a cruz al abrir el menú */
  .hamburger-menu.menu-open .bar:nth-child(1) {
    transform: translateY(8px) rotate(45deg); /* Barra superior se mueve y rota */
  }
  .hamburger-menu.menu-open .bar:nth-child(2) {
    opacity: 0; /* Barra del medio se desvanece */
  }
  .hamburger-menu.menu-open .bar:nth-child(3) {
    transform: translateY(-8px) rotate(-45deg); /* Barra inferior se mueve y rota */
  }
}

/* --- 8. Media Query: Ajustes Específicos para Tabletas (Ancho entre 577px y 992px) --- */
@media (min-width: 577px) and (max-width: 992px) {
  header {
    height: 65px; /* Altura ligeramente reducida para tabletas */
    padding: 12px 0; /* Ajuste del padding */
  }
  nav ul {
    gap: 25px; /* Reduce el espacio entre los elementos del menú */
  }
  nav li a {
    font-size: 1.1em; /* Ajusta el tamaño de fuente */
    padding: 9px 18px; /* Ajusta el padding de los enlaces */
  }
}